# WeatherBot

WeatherBot — это Telegram-бот, позволяющий узнать текущую погоду в любом доступном городе. Бот использует данные с платформы [OpenWeatherMap](http://openweathermap.org) и полезен для получения погодной информации прямо в Telegram. Хостится проект на [Replit](https://replit.com/).

## Описание

WeatherBot позволяет пользователям вводить название города вручную или выбирать из предложенного списка популярных городов. Бот отправляет запрос к API OpenWeatherMap и отображает информацию о температуре, влажности, скорости ветра и других погодных условиях для выбранного города. 

## Структура проекта

Проект состоит из следующих файлов:
- **main.py** — основной файл с обработкой команд бота и взаимодействием с пользователем.
- **parser.py** — файл с функциями для обращения к API OpenWeatherMap и обработки JSON-ответов.
- **keyboards.py** — файл с настройкой кнопок для выбора города.

## Использованные библиотеки

Проект использует следующие библиотеки:
- `aiogram` — для создания и управления ботом Telegram.
- `requests` — для отправки HTTP-запросов к API OpenWeatherMap.

## Установка и Запуск проекта

### 1. Клонирование репозитория

Сначала клонируйте репозиторий и перейдите в папку проекта:
```bash
git clone https://github.com/yourusername/WeatherBot.git
cd WeatherBot
```

### 2. Установка зависимостей

Убедитесь, что у вас установлен Python 3.8+ и выполните команду для установки необходимых библиотек:

```bash
pip install aiogram requests
```

### 3. Создание файла конфигурации

Создайте файл config.py в корне проекта и добавьте в него следующие данные:

```python
TOKEN = "ВАШ_ТЕЛЕГРАМ_ТОКЕН"
WEATHER_TOKEN = "ВАШ_ТОКЕН_ОТ_OPENWEATHERMAP"
```

### 4. Запуск бота

Теперь запустите бота с помощью следующей команды:

```bash
python main.py
```

## Использование

### Доступные команды
- `/start` — приветствие и начало работы с ботом.
- `/get_weather` — команда для запроса погоды.

### Ввод города
1. После команды /get_weather бот предложит выбрать город из списка или ввести его название вручную.
2. После выбора или ввода названия города бот отправляет запрос к API OpenWeatherMap.
3. Ответ включает текущую температуру, влажность, скорость ветра и общее описание погоды.

### Пример взаимодействия
- **Пользователь**: /start
- **Бот**: "Привет! Чтобы узнать погоду, используйте команду /get_weather."
- **Пользователь**: /get_weather
- **Бот**: (отправляет кнопки выбора города или предлагает ввести название города)
- **Пользователь**: "Paris"
- **Бот**:
```
Weather in Paris today:
temperature is 18.2° but feels like 17.5°
humidity is 65%
speed of wind is 3.5m/s

conclusion: clear sky
```

### Примечания
Для работы с ботом необходимы стабильное интернет-соединение и доступ к OpenWeatherMap. В случае ошибки в названии города или недоступности API бот выведет сообщение об ошибке и предложит повторить запрос.

## Источники
- aiogram — документация по библиотеке aiogram.
- OpenWeatherMap API — описание API для получения данных о погоде.
